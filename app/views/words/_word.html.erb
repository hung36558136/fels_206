<% c_word = @words_answers.size %>
<% per_page = Settings.words.per_page %>
<% total_page = (c_word.to_f / per_page).ceil %>
<% params[:page] ||= "1" %>
<% current_page = params[:page] %>
<% current_page = current_page.to_i %>
<% start = (current_page - 1) * per_page %>

<% if current_page < total_page %>
  <% finish = (current_page - 1) * per_page + per_page / 2 - 1 %>
  <% for i in (start..finish) %>
    <tr>
      <td><%= @words_answers[i][0] %></td>
      <td class="cate-answer"><%= @words_answers[i][1] %></td>
      <td><%= @words_answers[i + per_page / 2][0] %></td>
      <td><%= @words_answers[i + per_page / 2][1] %></td>
    </tr>
  <% end %>
<% else %>
  <% reminder = c_word % per_page %>
  <% if reminder % 2 == 0 %>
    <% for i in (start..(start + reminder / 2 - 1)) %>
      <tr>
        <td><%= @words_answers[i][0] %></td>
        <td class="cate-answer"><%= @words_answers[i][1] %></td>
        <td><%= @words_answers[i + reminder /2][0] %></td>
        <td><%= @words_answers[i + reminder /2][1] %></td>
      </tr>
    <% end %>
  <% else %>
    <% for i in (start..(start + (reminder - 1) / 2)) %>
      <tr>
        <td><%= @words_answers[i][0] %></td>
        <td class="cate-answer"><%= @words_answers[i][1] %></td>
        <% if i != (start + (reminder - 1) / 2) %>
          <td><%= @words_answers[i + (reminder + 1) / 2][0] %></td>
          <td><%= @words_answers[i + (reminder + 1) / 2][1] %></td>
        <% else %>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        <% end %>
      </tr>
    <% end %>
  <% end %>
<% end %>
